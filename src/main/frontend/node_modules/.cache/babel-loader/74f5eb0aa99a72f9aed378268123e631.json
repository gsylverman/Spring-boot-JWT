{"ast":null,"code":"import{jsxs as _jsxs}from\"react/jsx-runtime\";import{jsx as _jsx}from\"react/jsx-runtime\";import _regeneratorRuntime from\"/home/gavril.hasmasan/Desktop/rt-rt/node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator\";import _asyncToGenerator from\"/home/gavril.hasmasan/Desktop/rt-rt/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";import _slicedToArray from\"/home/gavril.hasmasan/Desktop/rt-rt/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import axios from\"axios\";import{useState}from\"react\";var Contact=function Contact(){var _useState=useState(\"\"),_useState2=_slicedToArray(_useState,2),token=_useState2[0],setToken=_useState2[1];var requestDataWithTokenValidation=function requestDataWithTokenValidation(e){e.preventDefault();fetch();};// axios.defaults.headers.common = { Authorization: `Bearer ${token}` };\nvar fetch=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(){var response;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:console.log({headers:{Authorization:\"Bearer \".concat(token)}});_context.prev=1;_context.next=4;return axios.get(\"http://localhost:8080/api/v1/data\",{headers:{Authorization:\"Bearer \".concat(token)}});case 4:response=_context.sent;console.log(response.data);_context.next=11;break;case 8:_context.prev=8;_context.t0=_context[\"catch\"](1);console.log(_context.t0);case 11:case\"end\":return _context.stop();}}},_callee,null,[[1,8]]);}));return function fetch(){return _ref.apply(this,arguments);};}();return/*#__PURE__*/_jsxs(\"form\",{onSubmit:requestDataWithTokenValidation,children:[/*#__PURE__*/_jsxs(\"div\",{children:[\"Token:\",/*#__PURE__*/_jsx(\"input\",{onChange:function onChange(e){return setToken(e.target.value);},type:\"text\",placeholder:\"token\",value:token})]}),/*#__PURE__*/_jsx(\"div\",{children:/*#__PURE__*/_jsx(\"input\",{type:\"submit\",value:\"Request data with token validation\"})})]});};export default Contact;","map":{"version":3,"sources":["/home/gavril.hasmasan/Desktop/rt-rt/src/components/Contact/index.tsx"],"names":["axios","useState","Contact","token","setToken","requestDataWithTokenValidation","e","preventDefault","fetch","console","log","headers","Authorization","get","response","data","target","value"],"mappings":"miBAAA,MAAOA,CAAAA,KAAP,KAAkB,OAAlB,CACA,OAAoBC,QAApB,KAAoC,OAApC,CAGA,GAAMC,CAAAA,OAA+B,CAAG,QAAlCA,CAAAA,OAAkC,EAAM,eAClBD,QAAQ,CAAS,EAAT,CADU,wCACrCE,KADqC,eAC9BC,QAD8B,eAG5C,GAAMC,CAAAA,8BAA8B,CAAG,QAAjCA,CAAAA,8BAAiC,CACrCC,CADqC,CAElC,CACHA,CAAC,CAACC,cAAF,GACAC,KAAK,GACN,CALD,CAOA;AAEA,GAAMA,CAAAA,KAAK,0FAAG,gJACZC,OAAO,CAACC,GAAR,CAAY,CACVC,OAAO,CAAE,CACPC,aAAa,kBAAYT,KAAZ,CADN,CADC,CAAZ,EADY,sCAOaH,CAAAA,KAAK,CAACa,GAAN,CAAU,mCAAV,CAA+C,CACpEF,OAAO,CAAE,CACPC,aAAa,kBAAYT,KAAZ,CADN,CAD2D,CAA/C,CAPb,QAOJW,QAPI,eAYVL,OAAO,CAACC,GAAR,CAAYI,QAAQ,CAACC,IAArB,EAZU,+EAcVN,OAAO,CAACC,GAAR,cAdU,oEAAH,kBAALF,CAAAA,KAAK,0CAAX,CAkBA,mBACE,cAAM,QAAQ,CAAEH,8BAAhB,wBACE,6CAEE,cACE,QAAQ,CAAE,kBAACC,CAAD,QAAOF,CAAAA,QAAQ,CAACE,CAAC,CAACU,MAAF,CAASC,KAAV,CAAf,EADZ,CAEE,IAAI,CAAC,MAFP,CAGE,WAAW,CAAC,OAHd,CAIE,KAAK,CAAEd,KAJT,EAFF,GADF,cAUE,kCACE,cAAO,IAAI,CAAC,QAAZ,CAAqB,KAAK,CAAC,oCAA3B,EADF,EAVF,GADF,CAgBD,CA9CD,CAgDA,cAAeD,CAAAA,OAAf","sourcesContent":["import axios from \"axios\";\nimport { useEffect, useState } from \"react\";\n\nexport interface ContactProps {}\nconst Contact: React.FC<ContactProps> = () => {\n  const [token, setToken] = useState<string>(\"\");\n\n  const requestDataWithTokenValidation = (\n    e: React.FormEvent<HTMLFormElement>\n  ) => {\n    e.preventDefault();\n    fetch();\n  };\n\n  // axios.defaults.headers.common = { Authorization: `Bearer ${token}` };\n\n  const fetch = async () => {\n    console.log({\n      headers: {\n        Authorization: `Bearer ${token}`,\n      },\n    });\n    try {\n      const response = await axios.get(\"http://localhost:8080/api/v1/data\", {\n        headers: {\n          Authorization: `Bearer ${token}`,\n        },\n      });\n      console.log(response.data);\n    } catch (error) {\n      console.log(error);\n    }\n  };\n\n  return (\n    <form onSubmit={requestDataWithTokenValidation}>\n      <div>\n        Token:\n        <input\n          onChange={(e) => setToken(e.target.value)}\n          type=\"text\"\n          placeholder=\"token\"\n          value={token}\n        />\n      </div>\n      <div>\n        <input type=\"submit\" value=\"Request data with token validation\" />\n      </div>\n    </form>\n  );\n};\n\nexport default Contact;\n"]},"metadata":{},"sourceType":"module"}